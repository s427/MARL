---
const { name } = Astro.props;
---

<div
  class="toots-filter form-item checkbox checkbox-number"
  :class={`isFilterActive('${name}') ? 'active' : ''`}
  x-show={`$store.files.activeFilters['${name}'] !== false`}
>
  <label
    for={"filter-"+name}
    class="checkbox-label"
  >
    <input
      type="checkbox"
      id={"filter-"+name}
      x-model.debounce={"$store.files.filters."+name}
      @change.debounce={"$store.files.setFilter('"+name+"')"}
    />
    <span x-text={`$t('filters.${name}')`}></span>
  </label>

  <label
    for={"filter-"+name+"-min"}
    class="number-label"
    :class={`$store.files.filters.${name} ? '' : 'inactive'`}
  >
    <span x-text={`$t('filters.${name}Min')`}></span>
    <input
      type="number"
      min="1"
      step="1"
      id={"filter-"+name+"-min"}
      onclick="this.select()"
      x-model.debounce={"$store.files.filters."+name+"Min"}
      @keyup.debounce={"$store.files.setFilter('"+name+"Min')"}
      @change.debounce={"$store.files.setFilter('"+name+"Min')"}
    >
  </label>
</div>
